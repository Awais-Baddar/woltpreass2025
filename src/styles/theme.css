/* DOPC Theme (Light/Dark) */
:root{
  --brand:#1fb6ff;--brandH:#0ea5e9;--brandSoft:rgba(31,182,255,.18);
  --bg:#f6f7f9;--surface:#fff;--surface2:#fbfbfc;--text:#0f172a;--muted:#475569;--border:#e5e7eb;
  --err:#dc2626;--ok:#16a34a;
  --r:14px;--r2:10px;--sh:0 10px 30px rgba(0,0,0,.08);--sh2:0 16px 50px rgba(0,0,0,.12);
  --focus:0 0 0 3px var(--brandSoft);
}
html[data-theme="dark"]{
  --bg:#0b1220;--surface:#111827;--surface2:#0f172a;--text:#e5e7eb;--muted:#9ca3af;--border:#1f2937;
  --err:#f87171;--ok:#34d399;
  --sh:0 12px 40px rgba(0,0,0,.55);--sh2:0 18px 60px rgba(0,0,0,.65);
}
*{box-sizing:border-box}
body{
  margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg);color:var(--text)
}
.app{min-height:100vh}
.shell{max-width:980px;margin:0 auto;padding:0 1rem}
.main{padding:2rem 0 4rem}

/* HERO (centered, glass, shimmer, glow) */
.hero{
  position:relative;padding:3.2rem 0 3rem;border-bottom:1px solid var(--border);overflow:hidden;
  background:
    radial-gradient(900px 420px at 10% 10%, var(--brandSoft), transparent 60%),
    radial-gradient(900px 420px at 90% 10%, rgba(99,102,241,.12), transparent 60%),
    radial-gradient(800px 520px at 50% 100%, rgba(31,182,255,.10), transparent 60%);
}
.hero::before{
  content:"";position:absolute;inset:-140px -220px;pointer-events:none;opacity:.6;
  background:linear-gradient(110deg,transparent 20%,rgba(255,255,255,.08) 35%,transparent 55%);
  transform:translateX(-35%) rotate(3deg);animation:shimmer 6.5s linear infinite
}
html[data-theme="dark"] .hero::before{opacity:.55;background:linear-gradient(110deg,transparent 20%,rgba(255,255,255,.06) 35%,transparent 55%)}
@keyframes shimmer{0%{transform:translateX(-35%) rotate(3deg)}100%{transform:translateX(35%) rotate(3deg)}}
@media(prefers-reduced-motion:reduce){.hero::before{animation:none}}

.heroLayout{
  position:relative;z-index:1;
  display:grid;grid-template-columns:1fr;gap:1.4rem;align-items:center;justify-items:center;
  text-align:center;
}
.heroGlass{
  width:min(820px,100%);padding:1.25rem 1.25rem;border-radius:calc(var(--r) + 6px);
  background:color-mix(in srgb,var(--surface) 55%,transparent);
  border:1px solid color-mix(in srgb,var(--border) 60%,transparent);
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  box-shadow:var(--sh),0 0 0 1px rgba(255,255,255,.04) inset,0 0 26px rgba(31,182,255,.14);
}
html[data-theme="dark"] .heroGlass{
  background:color-mix(in srgb,var(--surface) 35%,transparent);
  border:1px solid color-mix(in srgb,var(--border) 75%,transparent);
  box-shadow:var(--sh),0 0 0 1px rgba(255,255,255,.03) inset,0 0 30px rgba(31,182,255,.18);
}
.heroTitle{margin:0;font-size:clamp(1.75rem,2.8vw,2.7rem);line-height:1.1;letter-spacing:-.02em}
.heroSubtitle{margin:.75rem auto 0;color:var(--muted);max-width:62ch}
.heroImage{
  width:min(560px,82vw);height:auto;opacity:.92;pointer-events:none;
  filter:drop-shadow(0 18px 40px rgba(0,0,0,.25))
}
html[data-theme="dark"] .heroImage{opacity:.82;filter:drop-shadow(0 20px 60px rgba(0,0,0,.55))}
@media(min-width:980px){
  .heroLayout{grid-template-columns:1fr 1fr;gap:2rem;justify-items:center;align-items:center;text-align:center}
  .heroImage{width:min(520px,40vw);justify-self:center}
}

/* Theme toggle */
.themeToggle{
  position:absolute;top:1rem;right:1rem;z-index:2;
  display:inline-flex;align-items:center;gap:.5rem;
  padding:.5rem .75rem;border-radius:999px;background:var(--surface);
  border:1px solid var(--border);box-shadow:var(--sh);color:var(--text);cursor:pointer
}
.themeToggle:hover{border-color:var(--brand)}
.themeToggle:focus-visible{outline:none;box-shadow:var(--sh),var(--focus)}

/* CARD (centered on wide screens) */
.container{max-width:980px;margin:0 auto;padding:0 1rem}
.card{
  max-width:820px;margin:0 auto;
  background:var(--surface);border:1px solid var(--border);border-radius:var(--r);
  box-shadow:var(--sh);overflow:hidden
}
.cardHeader{
  padding:1.1rem 1.4rem;font-weight:650;border-bottom:1px solid var(--border);
  background:linear-gradient(to bottom,var(--surface),var(--surface2))
}
.cardBody{padding:1.4rem}
.sectionTitle,.breakdownTitle{font-weight:650;margin:0 0 1rem}

/* Form */
.formGrid{display:grid;gap:1rem}
.label{display:inline-block;margin:0 0 .35rem;font-size:.95rem;color:var(--text)}
.input{
  width:100%;padding:.65rem .8rem;border-radius:var(--r2);
  border:1px solid var(--border);background:transparent;color:var(--text)
}
.input::placeholder{color:color-mix(in srgb,var(--muted) 70%,transparent)}
.input:focus{outline:none;border-color:var(--brand);box-shadow:var(--focus)}

/* Actions */
.actions{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1.1rem}
.button{
  padding:.65rem 1.05rem;border-radius:12px;background:var(--brand);border:1px solid transparent;
  color:#fff;font-weight:600;cursor:pointer;transition:transform 90ms ease,background 120ms ease
}
.button:hover{background:var(--brandH)}
.button:active{transform:translateY(1px)}
.button:focus-visible{outline:none;box-shadow:var(--focus)}
.button:disabled{opacity:.6;cursor:not-allowed;transform:none}

.hr{margin:1.25rem 0;border:none;border-top:1px solid var(--border)}

/* Output list */
.dl{display:grid;grid-template-columns:1fr auto;row-gap:.6rem;column-gap:1rem;margin:0}
.dt{color:var(--muted)}
.dd{margin:0;font-weight:650}

/* Errors */
.error{margin-top:.45rem;color:var(--err);font-size:.92rem}
.errorGlobal{
  margin-top:.9rem;padding:.75rem .9rem;border-radius:12px;
  border:1px solid color-mix(in srgb,var(--err) 45%,var(--border));
  background:color-mix(in srgb,var(--err) 12%,transparent);color:var(--err)
}

/* Mobile improvements */
@media(max-width:520px){
  .cardBody{padding:1.1rem}
  .button{width:100%}
  .dl{grid-template-columns:1fr}
  .dd{text-align:left}
}
